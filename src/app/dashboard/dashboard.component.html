<mat-sidenav-container class="shell" [hasBackdrop]="false">
  <mat-sidenav
    class="sidebar"
    [class.collapsed]="isSidebarCollapsed"
    [mode]="'side'"
    [opened]="true"
    [disableClose]="true"
  >
    <div class="brand">
      <div class="brand-mark">DL</div>
      <div class="brand-text" *ngIf="!isSidebarCollapsed">
        <span class="brand-title">DJELOG</span>
        <span class="brand-sub">Finance Desk</span>
      </div>
      <button mat-icon-button class="collapse-btn" (click)="toggleSidebar()">
        <mat-icon>{{ isSidebarCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
      </button>
    </div>

    <mat-divider></mat-divider>

    <mat-nav-list class="nav-list">
      <a mat-list-item class="nav-item" routerLink="/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" title="Dashboard">
        <mat-icon>grid_view</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Dashboard</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/viagens" routerLinkActive="active" title="Viagens">
        <mat-icon>swap_horiz</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Viagens</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/viagens-comissionadas" routerLinkActive="active" title="Viagens Comissionadas">
        <mat-icon>local_taxi</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Comissionadas</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/estadias" routerLinkActive="active" title="Estadias">
        <mat-icon>hotel</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Estadias</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/veiculos" routerLinkActive="active" title="Veiculos">
        <mat-icon>local_shipping</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Veiculos</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/motoristas" routerLinkActive="active" title="Motoristas">
        <mat-icon>groups</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Motoristas</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/empresas" routerLinkActive="active" title="Empresas">
        <mat-icon>business</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Empresas</span>
      </a>
    </mat-nav-list>

    <mat-nav-list class="nav-list nav-list-bottom">
      <a mat-list-item class="nav-item" routerLink="/dashboard/relatorios" routerLinkActive="active" title="Relatorios">
        <mat-icon>bar_chart</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Relatorios</span>
      </a>
      <a mat-list-item class="nav-item" routerLink="/dashboard/configuracoes" routerLinkActive="active" title="Configuracoes">
        <mat-icon>settings</mat-icon>
        <span *ngIf="!isSidebarCollapsed">Configuracoes</span>
      </a>
    </mat-nav-list>
<!-- 
    <div class="sidebar-footer" *ngIf="!isSidebarCollapsed">
      <div class="pulse"></div>
      <div class="footer-text">
        <span class="footer-title">Operacao online</span>
        <span class="footer-sub">Atualizado agora</span>
      </div>
    </div> -->
  </mat-sidenav>

  <mat-sidenav-content class="content" [class.sidebar-collapsed]="isSidebarCollapsed">
    <mat-toolbar class="header" color="primary">
      <div class="header-left">
        <div class="manager">
          <span class="manager-name">{{ managerName }}</span>
          <span class="manager-role">{{ managerEmail }}</span>
        </div>
        <div class="current-date">
          {{ currentDate | date: 'dd MMM yyyy' }}
        </div>
      </div>

      <div class="header-right">
        <button mat-raised-button class="new-trip-btn" (click)="openCreateViagemDialog()">
          <mat-icon>add</mat-icon>
          Nova Viagem
        </button>
        <button mat-icon-button (click)="logout()" title="Sair" class="logout-btn">
          <mat-icon>logout</mat-icon>
        </button>
      </div>
    </mat-toolbar>

    <div class="dashboard-content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
